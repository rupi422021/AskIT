<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>RegUser</title>
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">
    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/slicknav.css">
    <link rel="stylesheet" href="assets/css/flaticon.css">
    <link rel="stylesheet" href="assets/css/progressbar_barfiller.css">
    <link rel="stylesheet" href="assets/css/gijgo.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/animated-headline.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/nice-select.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/Radio_BTN.css">

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->

    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- Video bg -->
    <script src="./assets/js/jquery.vide.js"></script>
    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="./assets/js/jquery.slicknav.min.js"></script>
    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="./assets/js/owl.carousel.min.js"></script>
    <script src="./assets/js/slick.min.js"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="./assets/js/wow.min.js"></script>
    <script src="./assets/js/animated.headline.js"></script>
    <script src="./assets/js/jquery.magnific-popup.js"></script>

    <!-- Date Picker -->
    <script src="./assets/js/gijgo.min.js"></script>
    <!-- Nice-select, sticky -->
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.sticky.js"></script>
    <!-- Progress -->
    <script src="./assets/js/jquery.barfiller.js"></script>

    <!-- counter , waypoint,Hover Direction -->
    <script src="./assets/js/jquery.counterup.min.js"></script>
    <script src="./assets/js/waypoints.min.js"></script>
    <script src="./assets/js/jquery.countdown.min.js"></script>
    <script src="./assets/js/hover-direction-snake.min.js"></script>

    <!-- contact js -->
    <script src="./assets/js/contact.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/mail-script.js"></script>
    <!--<script src="./assets/js/jquery.ajaxchimp.min.js"></script>-->

    <!-- Jquery Plugins, main Jquery -->
    <script src="./assets/js/plugins.js"></script>
    <script src="./assets/js/main.js"></script>
    <!--Your web app's Firebase configuration-->
    <script src="config.js"></script>
    <script>

        function register(email, password) {
            firebase.auth().createUserWithEmailAndPassword(email, password).then((userCredential) => {
                // Signed in
                debugger;
                var user = userCredential.user;
                console.log(user);
            }).catch((error) => {
                var errorCode = error.code;
                var errorMessage = error.message;
                console.log(errorMessage);
                // ..
            });
        }

        function Init() {
            ref = firebase.database().ref("users");

        }
        //------------Insert Processs-------------------//
        function insertuser() {
            debugger;
            let idU = document.getElementById('idTB').value;
            let firstnameU = document.getElementById('nameTB').value;
            let lastnameU = document.getElementById('lastnameTB').value;
            let emailU = document.getElementById('emailTB').value;
            let passwordU = document.getElementById('passwordTB').value;
            let instituteU = document.getElementById('InstituteTB').value;
            //קריאה לAUT


            ref.child(idU).set({
                id: idU,
                firstname: firstnameU,
                lastname: lastnameU,
                email: emailU,
                password: passwordU,
                institute: instituteU
            });
            register(emailU, passwordU);
        }
        function f1() {
            insertuser();
            return false;
        }
    </script>
</head>
<body onload="Init()">
    <!-- ? Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="assets/img/logo/loder.svg" alt="">
                </div>
            </div>
        </div>
    </div>
    <!-- Preloader Start-->
    <main class="login-body" data-vide-bg="assets/img/login-bg.mp4">
        <div class="login-form">
            <!-- logo-login -->
            <div class="logo-login">
                <a href="index.html"><img src="assets/img/logo/loder.svg" alt=""></a>
            </div>
            <form id="pForm" action="login-bg.mp4" onsubmit="f1()">
                <h2>הרשמה</h2>
                <div class="form-input">
                    <label for="idTB">תעודת זהות</label>
                    <input type="text" name="name" id="idTB" placeholder="אנא מלא תעודת זהות" pattern="[0-9]{9}"
                           maxlength="9"
                           oninvalid="this.setCustomValidity('אנא הכנס תעודת זהות כולל ספרת ביקורת')"
                           oninput="this.setCustomValidity('')"
                           required />
                </div>
                <div class="form-input">
                    <label for="nameTB">שם פרטי</label>
                    <input type="text" name="name" id="nameTB" placeholder="אנא הכנס שם פרטי" pattern="[A-Z,a-z]{2,10}"
                           maxlength="10"
                           oninvalid="this.setCustomValidity('אנא הכנס את השם בעברית עד 10 תווים')"
                           oninput="this.setCustomValidity('')"
                           required />
                </div>
                <div class="form-input">
                    <label for="lastnameTB">שם משפחה</label>
                    <input type="text" name="name" id="lastnameTB" placeholder="אנא הכנס שם משפחה"
                           pattern="[A-Z,a-z]{2,10}"
                           maxlength="20"
                           oninvalid="this.setCustomValidity('אנא הכנס את השם בעברית עד 20 תווים')"
                           oninput="this.setCustomValidity('')"
                           required />
                </div>
                <div class="form-input">
                    <label for="emailTB">אימייל</label>
                    <input type="email" id="emailTB" name="email" placeholder="אנא הכנס את האימייל שלך" required />
                </div>
                <div class="form-input">
                    <label for="passwordTB">סיסמה</label>
                    <input type="password" name="password" id="passwordTB" placeholder="אנא הכנס את הסיסמה שלך" minlength="8"
                           pattern="^(?=.*\d)(?=.*[A-Z]).{8,30}$"
                           oninvalid="this.setCustomValidity('הסיסמה צריכה להכיל מינימום 8 תווים ושתכלול לפחות אות גדולה וסיפרה')"
                           oninput="this.setCustomValidity('')"
                           required />
                </div>
                <div class="form-input">
                    <label for="Institute">מוסד אקדמי שהינך מלמד</label>
                    <br>
                    <select name="Institute" id="InstituteTB">
                        <option value="-1"> בחר מוסד</option>
                        <option value="Ruppin">המרכז האקדמי רופין</option>
                        <option value="Afeka">אפקה</option>
                        <option value="Ben-Gurion-University">אוניברסיטת בן גוריון</option>
                        <option value="Ort-Braude">מכללת אורט בראודה</option>
                        <option value="Tel-Aviv-University">אוניברסיטת תל אביב</option>
                    </select>
                </div>
                <div class="form-input pt-30">
                    <!--<button id="send" onclick="insertuser()">Send</button>-->
                    <input type="submit" value="שלח" />
                </div>
            </form>
            <!-- Forget Password -->
            <a href="login.html" class="registration">התחברות</a>
        </div>
    </main>
</body>
</html>